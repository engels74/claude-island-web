import{a as $,s as G}from"./attributes.CLxFPnh7.js";import{h as ce,i as ve,j as ee,p as he,k as X,l as Q,m as N,o as K,q as Ve,u as Ce,v as We,w as Ye,x as qe,y as Ne,z as De,E as Ge,A as Re,H as Fe,B as ue,C as te,D as J,F as Ke,g as l,G as Ue,I as Xe,J as Je,K as ke,L as ye,M as Qe,N as Ze,O as $e,P as et,Q as pe,R as tt,S as P,T as ie,U as at,V as st,W as rt,b as D,X as nt,Y as Ee,e as le,Z as Ie,a as R,_ as it,$ as lt,a0 as ot,d as y,f as Y,c as F,r as M,s as B,t as oe}from"./template.XUBm51p7.js";import{s as Ae}from"./render.D4McSsi1.js";import{s as ft}from"./style.DxBeHcas.js";import{p as ct}from"./props.liwGhtV9.js";/* empty css                       */function ut(e){throw new Error("https://svelte.dev/e/lifecycle_outside_component")}class dt{anchor;#t=new Map;#a=new Map;#e=new Map;#s=new Set;#r=!0;constructor(a,n=!0){this.anchor=a,this.#r=n}#n=()=>{var a=ce;if(this.#t.has(a)){var n=this.#t.get(a),s=this.#a.get(n);if(s)ve(s),this.#s.delete(n);else{var f=this.#e.get(n);f&&(this.#a.set(n,f.effect),this.#e.delete(n),f.fragment.lastChild.remove(),this.anchor.before(f.fragment),s=f.effect)}for(const[c,r]of this.#t){if(this.#t.delete(c),c===a)break;const t=this.#e.get(r);t&&(ee(t.effect),this.#e.delete(r))}for(const[c,r]of this.#a){if(c===n||this.#s.has(c))continue;const t=()=>{if(Array.from(this.#t.values()).includes(c)){var o=document.createDocumentFragment();Ve(r,o),o.append(X()),this.#e.set(c,{effect:r,fragment:o})}else ee(r);this.#s.delete(c),this.#a.delete(c)};this.#r||!s?(this.#s.add(c),he(r,t,!1)):t()}}};#i=a=>{this.#t.delete(a);const n=Array.from(this.#t.values());for(const[s,f]of this.#e)n.includes(s)||(ee(f.effect),this.#e.delete(s))};ensure(a,n){var s=ce,f=Ce();if(n&&!this.#a.has(a)&&!this.#e.has(a))if(f){var c=document.createDocumentFragment(),r=X();c.append(r),this.#e.set(a,{effect:Q(()=>n(r)),fragment:c})}else this.#a.set(a,Q(()=>n(this.anchor)));if(this.#t.set(s,a),f){for(const[t,u]of this.#a)t===a?s.skipped_effects.delete(u):s.skipped_effects.add(u);for(const[t,u]of this.#e)t===a?s.skipped_effects.delete(u.effect):s.skipped_effects.add(u.effect);s.oncommit(this.#n),s.ondiscard(this.#i)}else N&&(this.anchor=K),this.#n()}}function vt(e){We===null&&ut(),Ye(()=>{const a=qe(e);if(typeof a=="function")return a})}function fe(e,a,n=!1){N&&De();var s=new dt(e),f=n?Ge:0;function c(r,t){if(N){const o=Re(e)===Fe;if(r===o){var u=ue();te(u),s.anchor=u,J(!1),s.ensure(r,t),J(!0);return}}s.ensure(r,t)}Ne(()=>{var r=!1;a((t,u=!0)=>{r=!0,c(u,t)}),r||c(!1,null)},f)}function Te(e,a){return a}function ht(e,a,n){for(var s=[],f=a.length,c,r=a.length,t=0;t<f;t++){let h=a[t];he(h,()=>{if(c){if(c.pending.delete(h),c.done.add(h),c.pending.size===0){var p=e.outrogroups;de(pe(c.done)),p.delete(c),p.size===0&&(e.outrogroups=null)}}else r-=1},!1)}if(r===0){var u=s.length===0&&n!==null;if(u){var o=n,v=o.parentNode;st(v),v.append(o),e.items.clear()}de(a,!u)}else c={pending:new Set(a),done:new Set},(e.outrogroups??=new Set).add(c)}function de(e,a=!0){for(var n=0;n<e.length;n++)ee(e[n],a)}var Me;function Se(e,a,n,s,f,c=null){var r=e,t=new Map;{var u=e;r=N?te(Ke(u)):u.appendChild(X())}N&&De();var o=null,v=Ue(()=>{var g=n();return tt(g)?g:g==null?[]:pe(g)}),h,p=!0;function S(){b.fallback=o,pt(b,h,r,a,s),o!==null&&(h.length===0?(o.f&P)===0?ve(o):(o.f^=P,U(o,null,r)):he(o,()=>{o=null}))}var i=Ne(()=>{h=l(v);var g=h.length;let E=!1;if(N){var x=Re(r)===Fe;x!==(g===0)&&(r=ue(),te(r),J(!1),E=!0)}for(var z=new Set,I=ce,A=Ce(),T=0;T<g;T+=1){N&&K.nodeType===Xe&&K.data===Je&&(r=K,E=!0,J(!1));var H=h[T],m=s(H,T),d=p?null:t.get(m);d?(d.v&&ke(d.v,H),d.i&&ke(d.i,T),A&&I.skipped_effects.delete(d.e)):(d=gt(t,p?r:Me??=X(),H,m,T,f,a,n),p||(d.e.f|=P),t.set(m,d)),z.add(m)}if(g===0&&c&&!o&&(p?o=Q(()=>c(r)):(o=Q(()=>c(Me??=X())),o.f|=P)),N&&g>0&&te(ue()),!p)if(A){for(const[k,j]of t)z.has(k)||I.skipped_effects.add(j.e);I.oncommit(S),I.ondiscard(()=>{})}else S();E&&J(!0),l(v)}),b={effect:i,items:t,outrogroups:null,fallback:o};p=!1,N&&(r=K)}function pt(e,a,n,s,f){var c=a.length,r=e.items,t=e.effect.first,u,o=null,v=[],h=[],p,S,i,b;for(b=0;b<c;b+=1){if(p=a[b],S=f(p,b),i=r.get(S).e,e.outrogroups!==null)for(const m of e.outrogroups)m.pending.delete(i),m.done.delete(i);if((i.f&P)!==0)if(i.f^=P,i===t)U(i,null,n);else{var g=o?o.next:t;i===e.effect.last&&(e.effect.last=i.prev),i.prev&&(i.prev.next=i.next),i.next&&(i.next.prev=i.prev),L(e,o,i),L(e,i,g),U(i,g,n),o=i,v=[],h=[],t=o.next;continue}if((i.f&ie)!==0&&ve(i),i!==t){if(u!==void 0&&u.has(i)){if(v.length<h.length){var E=h[0],x;o=E.prev;var z=v[0],I=v[v.length-1];for(x=0;x<v.length;x+=1)U(v[x],E,n);for(x=0;x<h.length;x+=1)u.delete(h[x]);L(e,z.prev,I.next),L(e,o,z),L(e,I,E),t=E,o=I,b-=1,v=[],h=[]}else u.delete(i),U(i,t,n),L(e,i.prev,i.next),L(e,i,o===null?e.effect.first:o.next),L(e,o,i),o=i;continue}for(v=[],h=[];t!==null&&t!==i;)(u??=new Set).add(t),h.push(t),t=t.next;if(t===null)continue}(i.f&P)===0&&v.push(i),o=i,t=i.next}if(e.outrogroups!==null){for(const m of e.outrogroups)m.pending.size===0&&(de(pe(m.done)),e.outrogroups?.delete(m));e.outrogroups.size===0&&(e.outrogroups=null)}if(t!==null||u!==void 0){var A=[];if(u!==void 0)for(i of u)(i.f&ie)===0&&A.push(i);for(;t!==null;)(t.f&ie)===0&&t!==e.fallback&&A.push(t),t=t.next;var T=A.length;if(T>0){var H=c===0?n:null;ht(e,A,H)}}}function gt(e,a,n,s,f,c,r,t){var u=(r&$e)!==0?(r&et)===0?Qe(n,!1,!1):ye(n):null,o=(r&Ze)!==0?ye(f):null;return{v:u,i:o,e:Q(()=>(c(a,u??n,o??f,t),()=>{e.delete(s)}))}}function U(e,a,n){if(e.nodes)for(var s=e.nodes.start,f=e.nodes.end,c=a&&(a.f&P)===0?a.nodes.start:n;s!==null;){var r=at(s);if(c.before(s),s===f)return;s=r}}function L(e,a,n){a===null?e.effect.first=n:a.next=n,n===null?e.effect.last=a:n.prev=a}var _t=Y('<div class="flex items-center justify-center" style="height: 300px;"><div class="animate-pulse text-white/40">Loading screenshots...</div></div>'),mt=Y('<img loading="lazy"/>'),wt=Y('<div class="absolute inset-0 flex items-center justify-between px-4 transition-opacity duration-300 opacity-100 group"><button class="p-2.5 rounded-lg bg-coral/80 hover:bg-coral text-white shadow-lg transition-all duration-200 hover:scale-110 active:scale-95" aria-label="Previous screenshot"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"></path></svg></button> <button class="p-2.5 rounded-lg bg-coral/80 hover:bg-coral text-white shadow-lg transition-all duration-200 hover:scale-110 active:scale-95" aria-label="Next screenshot"><svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path></svg></button></div>'),bt=Y('<button class="group relative transition-all duration-300 svelte-1rd3kjw"><div></div></button>'),xt=Y('<div class="slideshow-container relative w-full max-w-3xl mx-auto px-4 svelte-1rd3kjw" role="region" aria-label="Screenshot slideshow" tabindex="0"><div class="absolute inset-0 -z-10 rounded-2xl"><div></div></div> <div class="relative rounded-2xl overflow-hidden bg-notch-black border border-white/10 transition-all duration-300"><div></div> <div class="relative w-full h-full overflow-hidden"></div> <div class="absolute inset-0 pointer-events-none rounded-2xl ring-1 ring-white/5"></div> <!></div> <div class="flex items-center justify-center gap-2.5 mt-6"></div> <div class="text-center mt-4 text-sm text-white/50"><span class="font-pixel"> </span> <span class="mx-2">â€¢</span> <span class="text-xs"> </span></div></div>'),kt=Y('<div class="text-center py-12 text-white/50"><p>No screenshots available</p></div>');function St(e,a){ot(a,!0);let n=ct(a,"autoPlayInterval",3,5e3),s=D(nt([])),f=D(0),c=D(!0),r=D(!1),t=D(!1),u=D(0),o=D(0),v=D(null),h=0;vt(()=>(window.addEventListener("resize",p),(async()=>{const d=await fetch("/api/screenshots");d.ok?y(s,await d.json(),!0):y(s,["/screenshots/001-menu-bar-icon-compact.png","/screenshots/002-claude-code-session-output.png","/screenshots/003-settings-menu-full.png","/screenshots/004-token-tracking-settings.png"],!0),y(c,!1),p(),g()})(),()=>{window.removeEventListener("resize",p),l(v)&&clearInterval(l(v))}));function p(){if(l(s).length===0)return;const d=++h,k=new Image;k.onload=()=>{if(d!==h)return;const j=Math.min(k.width,600);y(o,j,!0),y(u,k.height/k.width*j)},k.src=l(s)[l(f)]}function S(d){l(s).length!==0&&(y(f,(d%l(s).length+l(s).length)%l(s).length),p(),E())}function i(){S(l(f)+1)}function b(){S(l(f)-1)}function g(){l(v)&&clearInterval(l(v)),!(l(r)||l(s).length===0)&&y(v,setInterval(()=>{i()},n()),!0)}function E(){g()}function x(){y(r,!0),l(v)&&clearInterval(l(v))}function z(){y(r,!1),g()}function I(d){l(t)&&(d.key==="ArrowLeft"?(d.preventDefault(),b()):d.key==="ArrowRight"&&(d.preventDefault(),i()))}var A=Ee();le("keydown",lt,I);var T=Ie(A);{var H=d=>{var k=_t();R(d,k)},m=d=>{var k=Ee(),j=Ie(k);{var Le=V=>{var C=xt();C.__focusin=()=>y(t,!0),C.__focusout=()=>y(t,!1);var ae=F(C),ze=F(ae);let ge;M(ae);var Z=B(ae,2),_e=F(Z);let me;var se=B(_e,2);Se(se,21,()=>l(s),Te,(O,W,_)=>{var w=mt();G(w,"alt",`Claude Island screenshot ${_+1}`);let q;oe(()=>{G(w,"src",l(W)),q=$(w,1,"absolute inset-0 w-full h-full object-contain transition-all duration-500",null,q,{"opacity-0":_!==l(f),"opacity-100":_===l(f),"scale-95":_===l(f)&&_!==0})}),R(O,w)}),M(se);var He=B(se,4);{var Oe=O=>{var W=wt(),_=F(W);_.__click=b;var w=B(_,2);w.__click=i,M(W),R(O,W)};fe(He,O=>{l(r)&&O(Oe)})}M(Z);var re=B(Z,2);Se(re,21,()=>l(s),Te,(O,W,_)=>{var w=bt();w.__click=()=>S(_),G(w,"aria-label",`Go to slide ${_+1}`);var q=F(w);let xe;M(w),oe(()=>{G(w,"aria-current",_===l(f)?"true":"false"),xe=$(q,1,"w-2.5 h-2.5 rounded-full transition-all duration-300 dot-indicator svelte-1rd3kjw",null,xe,{active:_===l(f)}),G(q,"data-active",_===l(f))}),R(O,w)}),M(re);var we=B(re,2),ne=F(we),Be=F(ne);M(ne);var be=B(ne,4),je=F(be,!0);M(be),M(we),M(C),oe(()=>{ge=$(ze,1,"absolute inset-0 bg-gradient-to-br from-coral/10 via-ocean/5 to-transparent rounded-2xl opacity-0 transition-opacity duration-500",null,ge,{"opacity-100":!l(r)}),ft(Z,`aspect-ratio: ${l(o)>0&&l(u)>0?l(o)/l(u):1.7777777777777777}; max-height: 600px;`),me=$(_e,1,"absolute -inset-20 rounded-full blur-3xl opacity-20 transition-all duration-500 pointer-events-none",null,me,{"bg-coral":l(f)===0,"bg-ocean":l(f)===1,"bg-sunset":l(f)===2,"bg-palm":l(f)===3}),Ae(Be,`${l(f)+1} / ${l(s).length??""}`),Ae(je,l(r)?"Paused":"Auto-advancing")}),le("mouseenter",C,x),le("mouseleave",C,z),R(V,C)},Pe=V=>{var C=kt();R(V,C)};fe(j,V=>{l(s).length>0?V(Le):V(Pe,!1)},!0)}R(d,k)};fe(T,d=>{l(c)?d(H):d(m,!1)})}R(e,A),it()}rt(["focusin","focusout","click"]);export{St as default};
